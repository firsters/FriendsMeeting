# 친구 화면 (Friend Screen) 기능 사양서

## 1. 개요 (Overview)
본 화면은 현재 사용자가 참여하고 있는 **"활성화된 모임(Active Meeting)"**의 참여자 목록을 확인하고, 해당 모임에 새로운 멤버를 초대하거나 멤버의 위치를 지도에서 확인하기 위한 기능을 제공한다.
본 화면에서 관리되는 "친구"의 개념은 영구적인 관계가 아닌, **현재 모임의 일시적인 참여자(Member)**로 한정된다.

## 2. 데이터 정의 및 범위 (Data Definition & Scope)
### 2.1 친구 목록의 정의
*   **대상:** 현재 활성화된 모임(Active Meeting)에 참여 중인 모든 사용자.
*   **지속성:** 모임이 종료되거나 사용자가 모임에서 나가면 목록은 초기화된다 (영구적인 친구 목록 아님).
*   **데이터 소스:** `FriendsContext` 내의 활성 모임 참여자 데이터.

### 2.2 표시 정보 (Display Fields)
각 리스트 아이템은 다음의 정보를 표시해야 한다.
1.  **이름 (Name/Nickname):** 모임 참여 시 설정한 닉네임.
2.  **상태 (Status):** 사용자의 현재 상태 (예: 운전 중, 거리, 접속 여부 등).
3.  **주소 (Address):** 사용자의 현재 위치 기반 주소 (Geocoding 된 주소).

## 3. UI 구성 및 상세 기능 (UI & Functional Requirements)

### 3.1 헤더 (Header)
*   **타이틀:** "친구" 또는 "참여자 목록" (다국어 지원).
*   **초대 버튼 (Invite Button):**
    *   **기능:** 모임 초대 링크 공유.
    *   **동작 방식:**
        1.  현재 모임의 **그룹 코드(Group Code)**를 포함한 초대 URL 생성.
        2.  시스템의 기본 공유 창(Native Share Sheet) 호출.
        3.  공유가 불가능한 환경(PC 등)에서는 클립보드에 링크 복사 및 토스트 알림 표시.
    *   **제약 사항:** 친구 초대는 오직 **초대 링크 공유**를 통해서만 이루어진다. (QR 코드 스캔 등 기타 방식 제외)

### 3.2 검색 (Search)
*   **기능:** 현재 표시된 참여자 목록 내에서의 **필터링(Filtering)**.
*   **동작:**
    *   사용자가 입력한 검색어와 참여자의 "이름"이 일치(부분 일치)하는 항목만 리스트에 표시.
    *   새로운 사용자 검색(전역 검색) 기능이 아님.

### 3.3 리스트 및 상호작용 (List & Interaction)
*   **리스트 아이템 클릭:**
    *   **동작:** **지도 화면(Map View)**으로 이동.
    *   **상세:**
        *   선택된 친구의 위치가 지도의 중심에 오도록 이동(Pan).
        *   1:1 채팅 화면 등으로 이동하지 않음.
*   **메시지/상태 표시:**
    *   (선택 사항) 읽지 않은 메시지나 상태 업데이트가 있을 경우 배지(Badge) 처리 고려 가능.

### 3.4 하단 네비게이션 (Bottom Navigation)
*   앱의 공통 하단 탭 바를 유지하여 지도, 친구(현재 화면), 채팅, 프로필 화면 간 이동 지원.

## 4. 예외 처리 (Edge Cases)
1.  **참여 중인 모임이 없을 때:**
    *   친구 목록에 "참여 중인 모임이 없습니다" 또는 빈 상태(Empty State) 표시.
    *   초대 버튼 비활성화 또는 "새 모임 만들기" 유도 (기획 의도에 따름).
2.  **모임에 혼자 참여 중일 때:**
    *   "아직 다른 참여자가 없습니다. 친구를 초대해보세요!" 등의 안내 문구 표시.
3.  **검색 결과가 없을 때:**
    *   "검색 결과가 없습니다" 안내 표시.
